scenario:
  name: gaplock_dqn_starved
  env:
    seed: 42
    n_agents: 2
    max_steps: 800
    timestep: 0.01
    integrator: RK4
    render_interval: 0
    map_dir: maps
    map_yaml: shanghai/Shanghai_map.yaml
    map: shanghai/Shanghai_map.yaml
    map_ext: .png
    render_mode: human
    update: 2
  reward:
    target_crash_reward: 80.0
    ego_collision_penalty: -3.0
    truncation_penalty: 0.0
    success_once: true
    reward_horizon: null
    reward_clip: 50.0
  main:
    wandb:
      enabled: true
      project: marl-f110
      entity: ahoop004-old-dominion-university
      group: dqn-starved
      tags:
      - dqn
      - starved
    mode: train_eval
    save_eval_rollouts: false
    train_episodes: 500
    eval_episodes: 5
    output_root: outputs
    checkpoint: checkpoints/dqn_starved.pt
  algorithms:
    dqn:
      device: cuda
      lr: 0.0005
      gamma: 0.99
      batch_size: 256
      buffer_size: 75000
      target_update_interval: 1000
      epsilon_start: 1.0
      epsilon_end: 0.05
      epsilon_decay_rate: 0.999
      hidden_dims:
      - 256
      - 256
      prioritized_replay: true
      per_alpha: 0.6
      per_beta_start: 0.5
      per_beta_increment: 0.0001
      per_min_priority: 0.001
      per_epsilon: 1.0e-06
      action_set:
      - - -0.5
        - 2.0
      - - -0.25
        - 2.0
      - - 0.0
        - 2.0
      - - 0.25
        - 2.0
      - - 0.5
        - 2.0
      - - -0.5
        - 4.0
      - - -0.25
        - 4.0
      - - 0.0
        - 4.0
      - - 0.25
        - 4.0
      - - 0.5
        - 4.0
      - - -0.5
        - 6.0
      - - -0.25
        - 6.0
      - - 0.0
        - 6.0
      - - 0.25
        - 6.0
      - - 0.5
        - 6.0
      train_episodes: 500
      eval_episodes: 5
      save_dir: checkpoints
      checkpoint_name: dqn_starved.pt
  agents:
    car_0:
      slot: 0
      role: attacker
      wrappers:
      - factory: obs
        params:
          max_scan: 30.0
          normalize: true
          target_role: defender
      algo: dqn
      config_ref: dqn
      agent_id: car_0
    car_1:
      algo: follow_gap
      slot: 1
      role: defender
      params:
        max_speed: 18.0
        min_speed: 3.0
        steering_gain: 0.85
        bubble_radius: 3
        steer_smooth: 0.45
      agent_id: car_1
      wrappers:
      - factory: obs
        params:
          max_scan: 30.0
          normalize: true
          target_role: defender
  reward_curriculum:
  - mode: basic
    until: 200
  - mode: pursuit
    until: 400
  - mode: adversarial
