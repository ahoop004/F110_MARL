name: gaplock_sb3_ppo_sweep
description: SB3 PPO hyperparameter sweep for gaplock task

method: bayes
metric:
  name: rollout/ep_rew_mean
  goal: maximize

project: marl-f110
entity: ahoop004-old-dominion-university

command:
  - ${env}
  - python
  - run_sb3_sweep.py
  - --scenario
  - scenarios/v2/gaplock_sb3_ppo.yaml
  - --algo
  - ppo

early_terminate:
  type: hyperband
  min_iter: 300
  max_iter: 2500
  s: 2
  eta: 3

parameters:
  episodes:
    value: 2500

  seed:
    distribution: int_uniform
    min: 0
    max: 999999

  # ============================================================================
  # ACTIVE PARAMETERS - Currently being swept
  # ============================================================================

  # Learning rate
  agents.car_0.params.learning_rate:
    values: [0.0001, 0.0003, 0.0005]

  # Entropy coefficient (exploration bonus)
  agents.car_0.params.ent_coef:
    values: [0.0, 0.01, 0.02, 0.05]

  # PPO clipping parameter
  agents.car_0.params.clip_range:
    values: [0.1, 0.2, 0.3]

  # ============================================================================
  # FIXED PARAMETERS - Using good defaults (uncomment to re-enable sweeping)
  # ============================================================================

  # Discount factor
  # agents.car_0.params.gamma:
  #   values: [0.99, 0.995, 0.999]

  # GAE lambda
  # agents.car_0.params.gae_lambda:
  #   values: [0.90, 0.95, 0.98]

  # Number of epochs per update
  # agents.car_0.params.n_epochs:
  #   values: [5, 10, 15, 20]

  # Batch size
  # agents.car_0.params.batch_size:
  #   values: [64, 128, 256, 512]

  # Number of steps per update
  # agents.car_0.params.n_steps:
  #   values: [1024, 2048, 4096]

  # Value function loss coefficient
  # agents.car_0.params.vf_coef:
  #   values: [0.25, 0.5, 1.0]

  # Max gradient norm
  # agents.car_0.params.max_grad_norm:
  #   values: [0.3, 0.5, 1.0]

  # Network architecture
  # agents.car_0.params.hidden_dims:
  #   values: [
  #     [128, 128],
  #     [256, 256],
  #     [512, 512],
  #   ]

# ============================================================================
# CURRENT CONFIGURATION SUMMARY
# ============================================================================
# Active parameters: 3 (learning_rate, ent_coef, clip_range)
# Search space: 3 × 4 × 3 = 36 combinations
# ============================================================================
