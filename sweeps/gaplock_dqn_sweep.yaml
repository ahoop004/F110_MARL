name: gaplock_dqn_sweep
description: DQN hyperparameter sweep - uncomment parameters to add to search

method: bayes
metric:
  name: car_0/rolling/avg_reward
  goal: maximize

project: marl-f110
entity: ahoop004-old-dominion-university

command:
  - ${env}
  - python
  - run_sweep.py
  - --scenario
  - scenarios/v2/gaplock_dqn.yaml

early_terminate:
  type: hyperband
  min_iter: 300
  max_iter: 1000
  s: 2
  eta: 3

parameters:
  episodes:
    value: 1000

  seed:
    distribution: int_uniform
    min: 0
    max: 999999

  # ============================================================================
  # ACTIVE PARAMETERS - Currently being swept
  # ============================================================================

  # Learning rate (discretized)
  agents.car_0.params.lr:
    values: [0.0001, 0.0002, 0.0005, 0.001]

  # Epsilon-greedy exploration start value (discretized)
  agents.car_0.params.epsilon_start:
    values: [0.8, 0.9, 1.0]

  # Epsilon-greedy exploration end value (discretized)
  agents.car_0.params.epsilon_end:
    values: [0.01, 0.05, 0.1]

  # Epsilon decay (number of episodes, discretized)
  agents.car_0.params.epsilon_decay:
    values: [500, 1000, 1500]

  # ============================================================================
  # FIXED PARAMETERS - Using good defaults (uncomment to re-enable sweeping)
  # ============================================================================

  # Target network update interval
  # Fixed to 1000; uncomment to sweep
  # agents.car_0.params.target_update_interval:
  #   values: [500, 1000, 2000]

  # Batch size
  # agents.car_0.params.batch_size:
  #   values: [128, 256, 512]

  # Success buffer ratio
  # agents.car_0.params.success_buffer_ratio:
  #   values: [0.2, 0.3, 0.4]

  # ============================================================================
  # ALTERNATIVE CONFIGURATIONS - Continuous ranges
  # ============================================================================

  # CONTINUOUS LEARNING RATE
  # agents.car_0.params.lr:
  #   distribution: log_uniform_values
  #   min: 0.0001
  #   max: 0.001

  # CONTINUOUS EPSILON START
  # agents.car_0.params.epsilon_start:
  #   distribution: uniform
  #   min: 0.8
  #   max: 1.0

  # CONTINUOUS EPSILON END
  # agents.car_0.params.epsilon_end:
  #   distribution: uniform
  #   min: 0.01
  #   max: 0.1

  # CONTINUOUS EPSILON DECAY
  # agents.car_0.params.epsilon_decay:
  #   distribution: int_uniform
  #   min: 500
  #   max: 1500

# ============================================================================
# CURRENT CONFIGURATION SUMMARY
# ============================================================================
# Active parameters: 4 (lr, epsilon_start, epsilon_end, epsilon_decay)
# Search space: 4 × 3 × 3 × 3 = 108 combinations
# Fixed in scenario: target_update_interval=1000, batch_size=256
# ============================================================================
